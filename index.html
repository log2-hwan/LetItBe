<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
	<style>
html, body {
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
	overflow: hidden;
}

img {
	width: 600px;
	height: 600px;
	position: absolute;
	top: 50%;
	left: 50%;
	margin-top: -300px;
	margin-left: -300px;
	-webkit-transition: opacity 10s;
	transition: opacity 10s;
}

#scene {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	-webkit-perspective: 800;
    -webkit-perspective-origin: 50% 50%;
	-moz-perspective: 800;
    -moz-perspective-origin: 50% 50%;
	perspective: 800;
    perspective-origin: 50% 50%;
    position: relative;
}

.bi {
	position: absolute;
	top: 0;
	left: 50%;
	-webkit-transform-style: preserve-3d;
	-webkit-transform: rotateX(30deg) rotateY(-15deg) translate3d(0,0,0);
	-webkit-transition: -webkit-transform 3s ease-in-out;
	-moz-transform-style: preserve-3d;
	-moz-transform: rotateX(30deg) rotateY(-15deg) translate3d(0,0,0);
	-moz-transition: -moz-transform 3s ease-in-out;
	transform-style: preserve-3d;
	transform: rotateX(30deg) rotateY(-15deg) translate3d(0,0,0);
	transition: transform 3s ease-in-out;
	width: 30px;
	height: 30px;
	text-align: center;
	line-height: 30px;
	font-size: 24px;
}

.title {
	font-weight: bolder;
	font-size: 64px;
	width: 100%;
	height: 64px;
	position: absolute;
	top: 50%;
	left: 0;
	text-align: center;
	margin-top: -32px;
	opacity: 0;
	-webkit-transition: opacity 2.7s;
	transition: opacity 2.7s;
}

</style>
	<script src="http://code.jquery.com/jquery-latest.min.js"></script>
	<script>
		var transitionEnd = 'transitionend';
		var transform = 'transform';
		$(document).ready(function() {
			transitionEnd = document.body.style.transition===undefined?'webkitTransitionEnd':transitionEnd;
			transform = document.body.style.transform===undefined?'webkitTransform':transform;
			$('img').css('opacity',0).on(transitionEnd,function() {
				var audio = document.querySelector('#b');
				audio.play();
				$(audio).on('ended',function() {
					audio.currentTime = 13;
					audio.play();
				});
				$('.title').html("여러분의 메마른 마음을").css('opacity',1).on(transitionEnd,function() {
					$(this).css('opacity',0).on(transitionEnd,function() {
						$(this).html("적셔줄 비가 옵니다").css('opacity',1).on(transitionEnd,function() {
							$(this).css('opacity',0).on(transitionEnd,function() {
								$(this).html("B").css('opacity',1).on(transitionEnd,function() {
									$(this).html("");
									document.querySelector('#rain').play();
									
									setInterval(function() {
										var bi = $('<div class="bi">B</div>').css('left',Math.random()*100+'%').appendTo('#scene');
										setTimeout(function() {
											bi.css(transform,'translate3d(-30px,'+window.innerHeight+'px,0) rotateX(30deg) rotateY(45deg)').on(transitionEnd,function() {
												$(this).remove();
											});
										},10);
									}, 100);
								});
							});
						});
					});
				});
			});
		});
	</script>
</head>
<body>
	<img src="b.png" />
	<div class="title"></div>
	<div id="scene"></div>
	<audio id="rain" src="rain-01.mp3" loop preload></audio>
	<audio id="b" src="b.ogg" preload></audio>
</body>